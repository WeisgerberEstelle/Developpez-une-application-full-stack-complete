<div class="page-container">
  <div class="feed-header">
    <button class="btn btn--primary btn--md" routerLink="/posts/create">Créer un article</button>
    <button class="sort-toggle" (click)="toggleSort()" aria-label="Trier les articles">
      Trier par &darr;
    </button>
  </div>

  @if (posts.length > 0) {
    <div class="card-grid">
      @for (post of posts; track post.id) {
        <div class="card card--clickable" role="link" tabindex="0" (click)="goToPost(post.id)" (keydown.enter)="goToPost(post.id)">
          <h3 class="card__title">{{ post.title }}</h3>
          <p class="post-meta">{{ post.createdAt | date:'dd/MM/yyyy' }} &middot; {{ post.author.username }}</p>
          <p class="post-content">{{ post.content | slice:0:200 }}{{ post.content.length > 200 ? '...' : '' }}</p>
        </div>
      }
    </div>
  } @else {
    <p class="empty-message">Aucun article. Abonnez-vous à des thèmes pour voir des articles ici.</p>
  }
</div>
