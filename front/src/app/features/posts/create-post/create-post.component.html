<a routerLink="/feed" class="back-link" aria-label="Retour au fil d'articles">&larr;</a>

<div class="page-container--narrow">
  <h1 class="page-title page-title--content">Créer un nouvel article</h1>

  <form (ngSubmit)="onSubmit()" class="create-post-form">
    <div class="form-group">
      <label for="topicId">Sélectionner un thème</label>
      <select id="topicId" [(ngModel)]="topicId" name="topicId" required aria-required="true">
        <option value="" disabled selected>-- Choisir --</option>
        @for (topic of topics; track topic.id) {
          <option [value]="topic.id">{{ topic.name }}</option>
        }
      </select>
    </div>

    <div class="form-group">
      <label for="title">Titre de l'article</label>
      <input id="title" [(ngModel)]="title" name="title" required aria-required="true" maxlength="255" />
    </div>

    <div class="form-group">
      <label for="content">Contenu de l'article</label>
      <textarea id="content" [(ngModel)]="content" name="content" required aria-required="true" rows="10"></textarea>
    </div>

    @if (errorMessage) {
      <div class="error-message" role="alert" aria-live="assertive">{{ errorMessage }}</div>
    }

    <button type="submit" class="btn btn--primary btn--lg btn--center">Créer</button>
  </form>
</div>
